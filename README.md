# Voice Plant App v1.3

音量で植物が成長し、周波数で色が変化するWebアプリケーション。制限時間内にクリアを目指すゲーム性を備えています。

## 特徴

### 基本機能
- **音量**: 茎の高さをコントロール（0-400px）
- **周波数**: 色（低音:緑120°、高音:赤0°）と葉の分岐数・角度を制御
- **Clear!**: 目標ライン（調整可能）に到達すると、500個の金色粒子エフェクトとコンクリートひび割れを表示

### v1.3新機能
- **ゲームモード**: 制限時間内にClearを目指す
  - PlantView: 30秒チャレンジ
  - FractalPlantView: 60秒チャレンジ
- **Game Over機能**: タイムアップで敗北
- **リセット機能**: Backボタンで再チャレンジ
- **リアルタイム表示**: タイマー、音量、周波数、状態をコンソールに表示

### v1.2/v1.3最適化
- **WebGL 3D描画**: GPU並列処理で高速レンダリング
- **最適化された粒子システム**: 500個の金色粒子、2層グロー、3フレーム残像
- **Clear後自動クリア**: 2秒後にバースト粒子を削除、軽量な継続エフェクトのみ

## 技術スタック

- TypeScript (Strict mode)
- p5.js (WebGL mode)
- Web Audio API (マイク入力解析)
- SimplexNoise (揺らぎアニメーション)
- ES Modules

## セットアップ

```bash
# 依存パッケージのインストール
npm install

# ビルド
npm run build

# 開発モード（ファイル監視）
npm run dev

# ローカルサーバー起動
npm run serve
```

ブラウザで `http://localhost:8000` を開く。

## 使い方

1. **"Start"ボタンをクリック**
2. **マイクアクセスを許可**
3. **声や音を出して植物を育てる**
4. **Clearラインに到達** → Clear!達成
5. **制限時間内にクリアできなかった場合** → Game Over
6. **Backボタンで再チャレンジ**

## Viewモード

### Plant View（通常モード）
- 音量直結型の成長
- 制限時間: 30秒
- シンプルな茎と葉

### Fractal Plant View（累積モード）
- 音量累積型の成長
- 制限時間: 60秒
- 対生フラクタル樹木

### Visualizer View
- 円形FFTビジュアライザー
- 時間制限なし
- 16バンドスペクトラム

## 設定

### Clearライン調整
- スライダーで目標値を0.5〜1.0に調整可能
- デフォルト: 0.8

### Easy Mode
- 音量を10倍増幅
- より簡単にクリア可能

## ブラウザ対応

- Chrome/Edge推奨（WebGL対応）
- Safari対応（AudioContext.suspended処理済み）
- マイクアクセス必須
- WebGL非対応ブラウザでも動作（Canvas 2Dフォールバック）

## パフォーマンス

- 60fps安定動作
- WebGL GPU並列処理
- 粒子数最適化（500個バースト、45個継続エフェクト）
- Clear後2秒で自動軽量化

## ライセンス

MIT License
